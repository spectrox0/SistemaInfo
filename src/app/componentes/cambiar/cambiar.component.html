
<div class= "contenedorF">

    <div class= "formular">
  <h2>Perfil de Usuario</h2>
    <div class="container img">
      <img *ngIf="Usuario.urlImg!=''" src="{{imgUrl}}" alt="">
      <img *ngIf="Usuario.urlImg==''" src="../../../assets/img/imgUser.png" alt="">
    </div>
   <hr>

        <h3>Nombre de Usuario</h3>
        <br>
       <div class="row">
         <div class="col-sm">
   <input type="text" id="userName" name='nombre' #nombre="ngModel" [(ngModel)]="userName" >
  </div>
  <div class="col-sm">
    <button class="btn-primary" (click)="actualizaUser()" > Actualizar nombre</button>
  </div>
  </div>
  <h3>Imagen de Perfil</h3>
  <br>
     <div class="row">
       <div class="col-sm-7">
    <div class="item">
        Progress: {{ (uploadProgress | async) / 100 | percent }}
      </div>
        <section *ngIf="(uploadURL | async) !== null">
           <p> Enhorabuena la imagen se ha subido correctamente</p>
        </section>

      <div class="custom-file">
        <input class="custom-file-input" type="file" name="img" (change)="upload($event)" accept="image/*" id="imgU" >
        <label class="custom-file-label" name="imgU" for="imgU">Elige imagen</label>
      </div>
    </div>
    <div class="col-sm">
        <button class="btn-secondary" (click)="actualizaUser()"> Actualizar imagen</button>
      </div>
    </div>
      <br>
      <div class="row">
      <button class="btn-block" data-toggle="modal" [attr.data-target]="'#'+'myModal'">Cambiar contraseña </button>
    </div>
    <div class="modal fade" id="myModal">
        <div class="modal-dialog modal-lg">
          <div class="modal-content">

            <div class="modal-header">
              <h3 class="modal-title">Contraseña</h3>
              <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <form (ngSubmit)="onSubmitChange()">
            <div class="modal-body">

                <input type="password" name="password1" placeholder="Ingrese su contraseña" [(ngModel)] ="oldPassword" required>
                <div class='alerta' *ngIf="newPasswor.touched && !newPasswor.valid">
                    <div style = " text-align: center; text-shadow: 0 0 7px black;"*ngIf="newPasswor.errors.minlength"> La contraseña debe ser de al menos 6 caracteres </div>
                  </div>
                <input type="password" #newPasswor="ngModel"  name="newPasswor" placeholder="Ingrese su nueva contraseña" [(ngModel)] ="newPassword" minlength="6" maxlength="20" required>

                <input type="password" name="password2" placeholder="Confirme su nueva contraseña" [(ngModel)] ="newPassword2" required>



              </div>
               <div class="modal-footer">
                  <input type="submit" value="Confirmar">

              </div>
            </form>
          </div>

  </div>
  </div>

   </div>
   </div>

